@ECHO OFF
REM 結合バッチファイル：div2.exe により生成

ECHO 分割されたファイルを復元します

IF NOT EXIST "GITBUC~1.001"  GOTO ERR1
IF NOT EXIST "GITBUC~1.002"  GOTO ERR1
IF NOT EXIST "GITBUC~1.003"  GOTO ERR1
IF NOT EXIST "GITBUC~1.004"  GOTO ERR1
IF NOT EXIST "GITBUC~1.005"  GOTO ERR1
IF NOT EXIST "GITBUC~1.006"  GOTO ERR1
IF     EXIST "gitbucket-4.28.0.war"  GOTO ERR2

COPY "GITBUC~1.001" "GITBUC~1.WAR"
IF ERRORLEVEL 1 GOTO ERR3
COPY /B "GITBUC~1.WAR"+"GITBUC~1.002"+"GITBUC~1.003"+"GITBUC~1.004"+"GITBUC~1.005"
IF ERRORLEVEL 1 GOTO ERR3
COPY /B "GITBUC~1.WAR"+"GITBUC~1.006"
IF ERRORLEVEL 1 GOTO ERR3

DEL "GITBUC~1.001"
DEL "GITBUC~1.002"
DEL "GITBUC~1.003"
DEL "GITBUC~1.004"
DEL "GITBUC~1.005"
DEL "GITBUC~1.006"


REN "GITBUC~1.WAR" "gitbucket-4.28.0.war"

ECHO このバッチファイルも消してください
GOTO END

:ERR1
ECHO ファイルが一部存在しません
ECHO 処理を中止します
GOTO END

:ERR2
ECHO 復元先のファイルが既に存在しています
ECHO 処理を中止します
GOTO END

:ERR3
ECHO 復元に失敗しました
ECHO 処理を中止します
GOTO END

:END
ECHO 終了するには、何かキーを押してください
PAUSE >NUL

